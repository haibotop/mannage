/**
 * GooFlow-Vue - Web端流程设计器
 * @author foolegg126 (sdlddr)
 * @version v1.2.0
 * @license Commercially licensed to 永凯软件技术(上海)有限公司-913101157867305734(imclouds)
 **/
export default{flag:"autoalign",prop:{_amin:6},methods:{_locAlignLine(t,e,s){let i=[],l=this.$refs.$workArea.parentNode,h=l.scrollLeft-this.t.left,p=l.scrollTop-this.t.top;i="group"!==s&&"group"!==e.getData("type")||!this.extFlag.group?"memo"!==s&&"memo"!==e.getData("type")||!this.extFlag.memo?this.prop.$nodes:this.prop.$memos:this.prop.$areas;let o={h:-1,hType:"",v:-1,vType:""},a=e.offsetSize(),r=parseInt(e.$el.style.left.split("px")[0],10)+h,c=parseInt(e.$el.style.top.split("px")[0],10)+p,f=a.width,n=a.height;for(let e in i)t!==e&&i.hasOwnProperty(e)&&(r+f/2>=(i[e].left+i[e].width/2)*this.scale-this.prop._amin&&r+f/2<=(i[e].left+i[e].width/2)*this.scale+this.prop._amin?(o.h=(i[e].left+i[e].width/2)*this.scale-l.scrollLeft,o.hType="center"):r+f>=i[e].left*this.scale-this.prop._amin&&r+f<=i[e].left*this.scale+this.prop._amin?(o.h=i[e].left*this.scale-l.scrollLeft,o.hType="right"):r>=i[e].left*this.scale-this.prop._amin&&r<=i[e].left*this.scale+this.prop._amin?(o.h=i[e].left*this.scale-l.scrollLeft,o.hType="left"):r+f>=(i[e].left+i[e].width)*this.scale-this.prop._amin&&r+f<=(i[e].left+i[e].width)*this.scale+this.prop._amin?(o.h=(i[e].left+i[e].width)*this.scale-l.scrollLeft,o.hType="right"):r>=(i[e].left+i[e].width)*this.scale-this.prop._amin&&r<=(i[e].left+i[e].width)*this.scale+this.prop._amin&&(o.h=(i[e].left+i[e].width)*this.scale-l.scrollLeft,o.hType="left"),c+n/2>=(i[e].top+i[e].height/2)*this.scale-this.prop._amin&&c+n/2<=(i[e].top+i[e].height/2)*this.scale+this.prop._amin?(o.v=(i[e].top+i[e].height/2)*this.scale-l.scrollTop,o.vType="middle"):c+n>=i[e].top*this.scale-this.prop._amin&&c+n<=i[e].top*this.scale+this.prop._amin?(o.v=i[e].top*this.scale-l.scrollTop,o.vType="bottom"):c>=i[e].top*this.scale-this.prop._amin&&c<=i[e].top*this.scale+this.prop._amin?(o.v=i[e].top*this.scale-l.scrollTop,o.vType="top"):c+n>=(i[e].top+i[e].height)*this.scale-this.prop._amin&&c+n<=(i[e].top+i[e].height)*this.scale+this.prop._amin?(o.v=(i[e].top+i[e].height)*this.scale-l.scrollTop,o.vType="bottom"):c>=(i[e].top+i[e].height)*this.scale-this.prop._amin&&c<=(i[e].top+i[e].height)*this.scale+this.prop._amin&&(o.v=(i[e].top+i[e].height)*this.scale-l.scrollTop,o.vType="top"));return o.h+=l.scrollLeft,o.v+=l.scrollTop,o},_magnetic(t,e){if(null==e||-1===e.v&&-1===e.h)return this.$refs.$alignH.style.display="none",void(this.$refs.$alignV.style.display="none");e.h>-1?(this.$refs.$alignH.style.display="block",this.$refs.$alignH.style.left=e.h+"px"):this.$refs.$alignH.style.display="none",e.v>-1?(this.$refs.$alignV.style.display="block",this.$refs.$alignV.style.top=e.v+"px"):this.$refs.$alignV.style.display="none";let s=t.offsetSize(),i=this.t.left-this.$refs.$workArea.parentNode.scrollLeft,l={left:t.$el.style.left,top:t.$el.style.top};switch(e.hType){case"center":l.left=e.h-s.width/2+i+"px";break;case"left":l.left=e.h+i+"px";break;case"right":l.left=e.h-s.width+i+"px"}switch(i=this.t.top-this.$refs.$workArea.parentNode.scrollTop,e.vType){case"middle":l.top=e.v-s.height/2+i+"px";break;case"top":l.top=e.v+i+"px";break;case"bottom":l.top=e.v-s.height+i+"px"}t.show(l)}}};